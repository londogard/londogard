<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Londogard Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Londogard Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-react-helmet="true">Timeseries Learnings at AFRY | Londogard Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blog.londogard.com/blog/timeseries-learnings"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="keywords" content="nlp, kotlin, jvm, deep-learning, machine-learning, blog"><meta data-react-helmet="true" property="og:title" content="Timeseries Learnings at AFRY | Londogard Blog"><meta data-react-helmet="true" name="description" content="Sharing knowledge based on working a lot with timeseries"><meta data-react-helmet="true" property="og:description" content="Sharing knowledge based on working a lot with timeseries"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-11-23T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/lundez"><meta data-react-helmet="true" property="article:tag" content="machine-learning,timeseries"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.londogard.com/blog/timeseries-learnings"><link data-react-helmet="true" rel="alternate" href="https://blog.londogard.com/blog/timeseries-learnings" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.londogard.com/blog/timeseries-learnings" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2b920993.css">
<link rel="preload" href="/assets/js/runtime~main.e77a5392.js" as="script">
<link rel="preload" href="/assets/js/main.b8f1c48e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Londogard logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.ico" alt="Londogard logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Londogard Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/blog/archive">Blog Archive</a><a class="navbar__item navbar__link" href="/presentations">Presentations</a></div><div class="navbar__items navbar__items--right"><a href="https://londogard.com/about" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://londogard.com/projects" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Londogard Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/londogard" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/blog/timeseries-learnings">Timeseries Learnings at AFRY</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2022/11/06/babymonitor-pt-1">Babymonitor #1</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2022/09/07/docker-simplified-presentation">Docker (Presentation)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/gpt2-snapsvisor">GPT2-snapsvisor - Generating Swedish Drinking Songs</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/timeseries-pt-3">Forecasting Crypto Prices using Deep Learning (Time Series #3)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">Timeseries Learnings at AFRY</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-11-23T00:00:00.000Z" itemprop="datePublished">November 23, 2022</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/lundez" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_o0gy" src="https://github.com/lundez.png" alt="Hampus Londögård"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lundez" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Hampus Londögård</span></a></div><small class="avatar__subtitle" itemprop="description">Main Contributor of Londogard</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_mojV" id="timeseries-learnings">Timeseries Learnings<a class="hash-link" href="#timeseries-learnings" title="Direct link to heading">​</a></h2><p><strong>Intro</strong></p><p>This is a blog based on a presentation I did at Foo Café, where we shared a lot of our hard-earned wisdom at AFRY X, mainly based on working with timeseries.</p><p>There’s both simple and more advanced, hopefully in an easy to understand fashion!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">​</a></h3><p>We’re currently working with two (2) assignments involving timeseries right now. </p><ol><li>Helping a telecom company to embrace Data Driven Testing of 5G-antennas</li><li>Helping a automotive company to forecast weird brake behavior.</li></ol><p>So what have we learned? Let’s see...</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-learning-to-embrace-kiss-">1<!-- -->.<!-- --> Learning to embrace KISS 💋<a class="hash-link" href="#1-learning-to-embrace-kiss-" title="Direct link to heading">​</a></h2><p>We learned this by a few different experiences.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="mlops-tooling">MLOps Tooling<a class="hash-link" href="#mlops-tooling" title="Direct link to heading">​</a></h3><p>Yes, it’s real. We all say it, all the time. But when the dust settles a lot of us ended up optimizing some part of our code anyways or even adding the “better tool” which involves just a “tiny bit” more complexity and code.</p><p>Well, we did end up adding that “better tool” and it bit us back by clearly reducing our innovation pace. The story...</p><p>To build our MLOps pipeline we used a tool (DVC) which is way better than the “default” of MLFlow. It has multiple bonuses:</p><ol><li><strong>Data</strong> Version Control  </li><li><strong>Reproducible</strong> Pipelines  </li><li><strong>CI/CD</strong> custom-made for Machine Learning  </li><li><strong>Cloud &amp; Tool Agnostic</strong>  </li><li><strong>Simply <code>git</code></strong></li></ol><p>There’s no real drawbacks, except the KISS principle. Don’t get me wrong DVC is an excellent tool but we ended up having to write a lot of code to download datasets, track models, keep things tidy in git. To top it off? It was cumbersome to test a new task inside the same repository.</p><p>The biggest drawback was the additional code, albeit not complex in itself it added a total complexity, each time we wanted to update something in the pipeline we had to make sure to keep DVC working.<br>
<!-- -->And to get new features it was a little bit of adding lego bricks, which I love but ended up adding more complexity again.<br>
<!-- -->I want to note that the complexity was from lines of code rather than complicated code and this complexity made it harder for us to innovate.</p><p>Biting the bullet and migrating to MLFlow, an inferior tool on the paper, made our pipelines more lean and easier to innovate upon.<br>
<!-- -->MLFlow has magic integrations into all cloud providers and libraries which makes it very easy to add with basically 0 code.</p><p>This simplification led to further gains which are hard to show on paper.</p><p>In the end with our small team-size and project-size the gains of DVC isn’t worth the cost, as such the KISS approach leads us to MLFlow.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="local--cloud">Local ↔ Cloud<a class="hash-link" href="#local--cloud" title="Direct link to heading">​</a></h3><p>Cloud compute brings a ton of goodies such as defaulting to containerization, which should be done locally to really, and having powerful computers at your fingertips.</p><p>But what is forgotten is that with great powers comes great responsibility. Cloud enables training heavy models but with that it hides a lot of problems.</p><ol><li>Inefficient pipelines</li><li>Hard to debug</li><li>...</li></ol><p>We&#x27;ve learned that using a <em>Local First Approach</em> gives us the best of both worlds. Our pipelines are able to run fully local, including unit testing, but are just as simple to run on a cluster.</p><p>This is enabled by using a local pipeline rather than fully embracing the ecosystem. </p><p>We are able to run:</p><ul><li><p><code>⁠pipeline.py</code><br>
</p></li><li><p><code>pipeline_on_azure.py --exp_name &lt;NAME&gt; --compute &lt;COMPUTE&gt;</code></p></li><li><p><code>pipeline_mlflow_azure.py</code></p><ul><li>Allows local experiments to be tracked on Azure MLFlow server rather than locally</li></ul></li></ul><p>Which makes our life incredibly easy!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="automate-boring-checks">Automate Boring Checks<a class="hash-link" href="#automate-boring-checks" title="Direct link to heading">​</a></h3><p>Of course code reviews should, and is, mandatory. Based on our software engineering principles we’ve made sure to also add CI/CD verifications which validates that everything is nice and tidy with no breaking changes. It reduces our cognitive load, which is awesome.</p><p>Our current set-up:</p><ul><li><strong><a href="https://pre-commit.com/" target="_blank" rel="noopener noreferrer" title="https://pre-commit.com/">pre-commit</a>:</strong> local validation on each commit<ul><li><code>[flake8](https://github.com/pycqa/flake8 &quot;https://github.com/pycqa/flake8&quot;)</code>: Code Style Checker<ul><li>Validates that we don’t break code-styles such as unused imports, unused variables, too complicated functions etc</li></ul></li><li><code>[black](https://github.com/psf/black &quot;https://github.com/psf/black&quot;)</code>: Code Formatter<ul><li>It’s uncompromising and makes sure our repository has a standard stylistic with correct indenting and much more</li></ul></li><li><code>[mypy](https://github.com/python/mypy &quot;https://github.com/python/mypy&quot;)</code>: Static Type Checker<ul><li>Makes sure that our types are valid and we’re not simply lucky in the duck-typing 🦆 world of Python 🐍!</li></ul></li><li><strong>^ All above also runs in CI/CD</strong></li></ul></li><li><strong>CI/CD</strong><ul><li><a href="https://docs.pytest.org/en/7.2.x/" target="_blank" rel="noopener noreferrer" title="https://docs.pytest.org/en/7.2.x/"><strong>pytest</strong></a><strong>:</strong> unit tests<ul><li>Test that your functions, neural networks etc works as expected</li></ul></li><li><strong>pre-commit</strong> - see above</li><li><strong><a href="https://cypress.io/" target="_blank" rel="noopener noreferrer" title="https://cypress.io/">cypress</a>:</strong> E2E frontend testing<ul><li>Only for a user-facing analysis tool</li></ul></li></ul></li></ul><p>This is running on both GitHub Actions and GitLab Pipelines.</p><p>We deploy our containers through Azure and experiment through the Azure ML Studio or locally.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-interactive-validation-">2<!-- -->.<!-- --> Interactive Validation 👨‍💻<a class="hash-link" href="#2-interactive-validation-" title="Direct link to heading">​</a></h2><p>This is the killer deal. A lot of people out there makes heavy use of what I call “Static Analysis”, where metrics and static images are viewed. </p><p>Viewing static results isn’t enough, it barely scraps the surface and we’re <em>Data <!-- -->*</em> right? So why not dive into the data!? 🕵️</p><p>We’re extending our analyses to include custom built Streamlit Application(s) which allows us to work exploratory. Static validation is still important to keep track of actual objective metrics, but exploration is not only very satisfying but also awesome as you learn so much more about the model(s) and data.</p><p>Interactive analysis gives the following: <em>Promote Explorability, Gives End-User a Great Experience, Increase Explainability, Efficient Feedback-Loop</em>. Awesome? Hell yeah! 😎</p><p><strong>Static Validation:</strong></p><p><img src="/assets/images/image-e6423cb90a88a75faf8035fa6b2db31a.png" width="1720" height="618">  </p><p><strong>Interactive Validation:</strong></p><p><strong><img src="/assets/images/interactive_validation-6f01f3c44cdf46724c63b6b08e4f8cef.gif" width="1489" height="720"><br></strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-additional-wisdom-">3<!-- -->.<!-- --> Additional Wisdom 🤓<a class="hash-link" href="#3-additional-wisdom-" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="probabilistic-forecasting">Probabilistic Forecasting<a class="hash-link" href="#probabilistic-forecasting" title="Direct link to heading">​</a></h3><p>This is a powerful tool to have in your arsenal, and with clever tricks you can have it with <em>all</em>  neural networks that uses dropout! 🤯</p><p>The idea is that rather than forecast/predict point by point we forecast a confidence interval! This way we capture uncertaintied of the model.  This  assists debugging your model to fix its weaknesses! 🔍</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="custom-loss-functions">Custom Loss Functions<a class="hash-link" href="#custom-loss-functions" title="Direct link to heading">​</a></h3><p>Using a custom loss function makes a lot of sense in almost any real problem. It’s very rare that you actually care about the overall impact, but rather specific regions actually matters in time-series. In our case we don’t care about forecasting noise nor do we care about forecasting the bad behavior after it happened, we need to find it before it happens - forecasting.</p><p>In our case it&#x27;s an oscillating behavior that builds amplitude over time, as we want the model to do the same we need to penalize undershooting heavily to not fit it to the noice.</p><p>This ended up being a big improvement, but what lessons did we learn?</p><ol><li>Always invert scale before calculating test-metrics<ul><li>To not allow scaling functions to impact the final results</li></ul></li><li>Never optimize a loss function that you use as a metric<ul><li>This will play the model</li></ul></li><li>Decide on validation metrics <em>before</em>  you start<ul><li>A moving target is impossible to hit and compare against</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-unexpected-learnings-">4<!-- -->.<!-- --> Unexpected Learnings 🤔<a class="hash-link" href="#4-unexpected-learnings-" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="model-weights-badly-instantiated">Model weights badly instantiated<a class="hash-link" href="#model-weights-badly-instantiated" title="Direct link to heading">​</a></h3><p>We found this to be true in both papers and (5k⭐️) Open Source libraries. </p><p>Make sure that you validate code you’re using in-depth and don’t expect it to work as expected from the get-go!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="best-practices-is-contextual">Best Practices is contextual<a class="hash-link" href="#best-practices-is-contextual" title="Direct link to heading">​</a></h3><p>Best Practices are certainly not true for any example or user. This was shown in multiple cases, such as our Local ↔ Cloud story.</p><p>Make sure to validate that what you’re doing is actually required for your use-case. A lot of the tools out there is built for <em>huge scale</em> while we’re working on <em>small-medium scale</em>. To use the same tooling is to introduce a large overhead and disconnect from the developer.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="generally-winning-concepts">Generally winning concepts<a class="hash-link" href="#generally-winning-concepts" title="Direct link to heading">​</a></h2><ul><li><strong>Type hints</strong>, Type Hints everywhere<ul><li>It really assists you greatly. As a Scala/Kotlin and FP-enthusiast I’d like to talk even further about it, but I might grow boring.</li></ul></li><li><strong>Plotly/Altair</strong> rather than matplotlib – interactivity is king.<ul><li><img src="/assets/images/altair-b11c7baddbcf15bbaf4e6e921a12c961.gif" width="1560" height="854"></li><li>I cannot emphasize how much is learnt by the kinder Garten style of panning, zooming and playing around</li><li>It gives data and model understanding</li></ul></li><li><strong>Polars</strong> <strong>–</strong> efficient speedy DataFrame’s with a <em>logical API</em><ul><li>I can&#x27;t be alone thinking that whoever designed pandas API must&#x27;ve been a masochist<ul><li>Polars makes sense, includes lazy and it&#x27;s fast! 🏎️</li><li>Con: it&#x27;s not lingua franca like pandas and thereby isn&#x27;t supported automatically by all different libraries<ul><li>Solved by using <code>to_pandas()</code></li></ul></li></ul></li><li><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         </span><span class="token string" style="color:#e3116c">&quot;cars&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cars&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;beetle&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">over</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cars&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">alias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;sum_A_by_cars&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">over</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">alias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;sum_A_by_fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">over</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">alias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;rev_A_by_fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">         pl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sort_by</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">over</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">alias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;sort_A_by_B_by_fruits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><img src="/assets/images/image_2-3e3dc3c48c88584fadbde8c2db8e4b75.png" width="2132" height="816">  </li></ul></li><li><strong>Streamlit</strong> quick interactive apps that makes a huge difference<ul><li>This is how we build our interactive validation and analysis tools. </li></ul></li><li><strong>CI/CD</strong> on all projects</li><li><strong>Quarto</strong> reports<ul><li>They&#x27;re amazing, think markdown + code cells + all the goodies of LaTeX in a package 😍</li></ul></li><li><strong>Use Path-lib from the get-go</strong><ul><li>Don’t waste a full working day of headache to help that Windows-user to run your project</li></ul></li></ul><h1>Summarizing</h1><ul><li>Follow <strong>KISS</strong></li><li><strong>Embrace the systems you’re working in,</strong> it’ll pay off to not generalize too much<ul><li>Whenever you change cloud-provider you’ll have to update a lot of code anyways because of auth and more</li></ul></li><li><strong>Interactive Analysis</strong> is incredible and open new doors</li><li>Always <strong>be mindful</strong><ul><li>Continuously evaluate, iterate and execute – be agile.</li></ul></li></ul><p>That’s it for now</p><p>~Hampus Londögård</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_h6_j"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/machine-learning">machine-learning</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/timeseries">timeseries</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/londogard/londogard/blog/2022-11-23-timeseries-learnings/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/11/06/babymonitor-pt-1"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Babymonitor #1</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#timeseries-learnings" class="table-of-contents__link toc-highlight">Timeseries Learnings</a><ul><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li></ul></li><li><a href="#1-learning-to-embrace-kiss-" class="table-of-contents__link toc-highlight">1. Learning to embrace KISS 💋</a><ul><li><a href="#mlops-tooling" class="table-of-contents__link toc-highlight">MLOps Tooling</a></li><li><a href="#local--cloud" class="table-of-contents__link toc-highlight">Local ↔ Cloud</a></li><li><a href="#automate-boring-checks" class="table-of-contents__link toc-highlight">Automate Boring Checks</a></li></ul></li><li><a href="#2-interactive-validation-" class="table-of-contents__link toc-highlight">2. Interactive Validation 👨‍💻</a></li><li><a href="#3-additional-wisdom-" class="table-of-contents__link toc-highlight">3. Additional Wisdom 🤓</a><ul><li><a href="#probabilistic-forecasting" class="table-of-contents__link toc-highlight">Probabilistic Forecasting</a></li><li><a href="#custom-loss-functions" class="table-of-contents__link toc-highlight">Custom Loss Functions</a></li></ul></li><li><a href="#4-unexpected-learnings-" class="table-of-contents__link toc-highlight">4. Unexpected Learnings 🤔</a><ul><li><a href="#model-weights-badly-instantiated" class="table-of-contents__link toc-highlight">Model weights badly instantiated</a></li><li><a href="#best-practices-is-contextual" class="table-of-contents__link toc-highlight">Best Practices is contextual</a></li></ul></li><li><a href="#generally-winning-concepts" class="table-of-contents__link toc-highlight">Generally winning concepts</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support Londogard</div><ul class="footer__items"><li class="footer__item"><a href="https://www.buymeacoffee.com/hlondogard" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></li><li class="footer__item"><div style="display: flex; align-items: center;"><iframe src="https://github.com/sponsors/Lundez/button" title="Sponsor Lundez" height="35" width="116" style="border: 0;"></iframe><div>&nbsp;on GitHub</div></div></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/londogard" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Feeds</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.londogard.com/blog/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://blog.johnnyreilly.com/blog/atom.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Atom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Londogard. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e77a5392.js"></script>
<script src="/assets/js/main.b8f1c48e.js"></script>
</body>
</html>