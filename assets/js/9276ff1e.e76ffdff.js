"use strict";(self.webpackChunklondogard=self.webpackChunklondogard||[]).push([[2243],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4112:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},assets:function(){return c},toc:function(){return u},default:function(){return h}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={description:"What are PWAs? How do I create or transform my web app into one? How can I deploy them (freely) via GitHub Pages?",tags:["pwa","TIL"],title:"TIL: GitHub Pages + Progressive Web App (PWA) = \u2764\ufe0f",authors:"hlondogard"},s=void 0,p={permalink:"/blog/2021/04/11/til-pwa-github-pages",editUrl:"https://github.com/londogard/londogard/blog/2021-04-11-til-pwa-github-pages.md",source:"@site/blog/2021-04-11-til-pwa-github-pages.md",title:"TIL: GitHub Pages + Progressive Web App (PWA) = \u2764\ufe0f",description:"What are PWAs? How do I create or transform my web app into one? How can I deploy them (freely) via GitHub Pages?",date:"2021-04-11T00:00:00.000Z",formattedDate:"April 11, 2021",tags:[{label:"pwa",permalink:"/blog/tags/pwa"},{label:"TIL",permalink:"/blog/tags/til"}],readingTime:4.165,truncated:!0,authors:[{name:"Hampus Lond\xf6g\xe5rd",title:"Main Contributor of Londogard",url:"https://github.com/lundez",imageURL:"https://github.com/lundez.png",key:"hlondogard"}],frontMatter:{description:"What are PWAs? How do I create or transform my web app into one? How can I deploy them (freely) via GitHub Pages?",tags:["pwa","TIL"],title:"TIL: GitHub Pages + Progressive Web App (PWA) = \u2764\ufe0f",authors:"hlondogard"},prevItem:{title:"Knowledge Distillation (Presentation)",permalink:"/blog/2021/04/18/knowledge-distillation-presentation"},nextItem:{title:"Building a Swedish Named Entity Recognition (NER) model (Flair/Huggingface)",permalink:"/blog/2021/03/29/swedish-named-entity-recognition"}},c={authorsImageUrls:[void 0]},u=[{value:"What",id:"what",children:[],level:3},{value:"How",id:"how",children:[{value:"ServiceWorker.js",id:"serviceworkerjs",children:[],level:4},{value:"Webmanifest",id:"webmanifest",children:[],level:4},{value:"Deploying to GitHub Pages",id:"deploying-to-github-pages",children:[],level:4}],level:3},{value:"Alternatives",id:"alternatives",children:[],level:3}],d={toc:u};function h(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"what"},"What"),(0,o.kt)("p",null,"Progressive Web Apps (PWAs) are web applications that are deployed on the Web and available on essentially every platform directly (Android, iOS, Linux, Windows, ... you name it).  "),(0,o.kt)("p",null,"They're created the same way regular Web Apps are, with minor modifications like a new separate ",(0,o.kt)("inlineCode",{parentName:"p"},".js"),"-file that runs a ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker"),". This ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker")," is the core of the PWA and handle things like ",(0,o.kt)("em",{parentName:"p"},"caching")," & ",(0,o.kt)("em",{parentName:"p"},"installation"),". "),(0,o.kt)("p",null,"PWAs allows you to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Share logic between all OS:s"),(0,o.kt)("li",{parentName:"ul"},"Not have a heavy runtime associated (it uses the bundled browser engine)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"On Windows/MacOS/Android/iOS the browser is included as part of OS. On Linux not as much, but who has Linux without a browser?"))),(0,o.kt)("li",{parentName:"ul"},"Use your existing knowledge AND technologies of regular webapps")),(0,o.kt)("p",null,"The performance is good enough for most apps and you can easily cache content to make the app offline-first. Of course native apps are, and will always be, better but this is a good step in the right direction for simple developer to share their work on multiple platforms. "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"The best example of an PWA I know of is ",(0,o.kt)("a",{parentName:"p",href:"http://mobile.twitter.com/"},"twitter"),", a PWA I prefer to the native app")),(0,o.kt)("p",null,"You can test my PWA that's written in Kotlin (targeting JS) with fritz2 on ",(0,o.kt)("a",{parentName:"p",href:"https://colorkidz.londogard.com/"},"colorkidz.londogard.com"),". ColorKidz is a simple app that creates colouring pages out of regular images and I believe it really showcases the possibilities of PWA. ColorKidz is a MVP that was fast & easy and now shared across ALL platforms!  "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Bonus:")," PWAs can be deployed to Android/Google & Windows App Store, just like a regular app")),(0,o.kt)("p",null,"Please note that GitHub TOS prohibits deployment of commercial apps through GitHub pages. If you wish to do that take a look at the ",(0,o.kt)("a",{parentName:"p",href:"#alternatives"},"alternative section")," for better alternatives that are free/cheap."),(0,o.kt)("h3",{id:"how"},"How"),(0,o.kt)("p",null,"Building, or transforming, a Web App into a PWA is really easy and has few requirements (depending on browser). The requirements follows:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"A ",(0,o.kt)("em",{parentName:"li"},"web manifest")," file"),(0,o.kt)("li",{parentName:"ol"},"Serve app using HTTPS"),(0,o.kt)("li",{parentName:"ol"},"A Service Worker with a ",(0,o.kt)("inlineCode",{parentName:"li"},"fetch event")," handler",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Allowing the app to work offline (!) "))),(0,o.kt)("li",{parentName:"ol"},"(not for all browser) a ",(0,o.kt)("inlineCode",{parentName:"li"},"favicon"),"/icon")),(0,o.kt)("p",null,"Adding more data makes your PWA even better, like safari/iOS specific icons to improve interoperability."),(0,o.kt)("p",null,"These requirements are pretty easy to achieve and I'll show the two most important, ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"webmanifest"),"."),(0,o.kt)("h4",{id:"serviceworkerjs"},"ServiceWorker.js"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker")," handles the app caching, installation and\npotentially some other things if you ask it too. From the docs:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Service workers essentially act as proxy servers that sit between web applications, and the browser and network (when available). They are intended to (amongst other things) enable the creation of effective offline experiences, intercepting network requests and taking appropriate action based on whether the network is available and updated assets reside on the server. They will also allow access to push notifications and background sync APIs.")),(0,o.kt)("p",null,"An example of this can be found on my ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/londogard/colorkidz/blob/main/serviceWorker.js"},"GitHub"),", find the code a little bit below.",(0,o.kt)("br",{parentName:"p"}),"\n","If you wish to deep dive into ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker"),"'s then head over to the (awesome) documentation at ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Offline_Service_workers"},"Mozilla")," & ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/web/ilt/pwa/introduction-to-service-worker"},"Google"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var CACHE_NAME = 'londogard-colorkidz';\nvar urlsToCache = [\n  \"/index.html\",\n  \"/NEW.js\",\n  \"/android-chrome-192x192.png\",\n  ...\n];\n\nself.addEventListener('install', function(event) {\n  // Perform install steps\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n      .then(function(cache) {\n        console.log('Opened cache');\n        return cache.addAll(urlsToCache);\n      })\n    );\n  });\nself.addEventListener('fetch',() => console.log(\"fetch\"));\n")),(0,o.kt)("h4",{id:"webmanifest"},"Webmanifest"),(0,o.kt)("p",null,"The next step is to create your ",(0,o.kt)("inlineCode",{parentName:"p"},"webmanifest"),' which is the "metadata" of the app. What name should it have once installed? Which icon? Is the orientation locked? There\'s a few knobs to tweak and turn.',(0,o.kt)("br",{parentName:"p"}),"\n","My ",(0,o.kt)("inlineCode",{parentName:"p"},"webmanifest")," ended up something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "short_name": "ColorKidz",\n  "name": "ColorKidz",\n  "description": "Turn your images into Colouring Pages",\n  "icons": [\n    {\n      "src": "/android-chrome-192x192.png",\n      "sizes": "192x192",\n      "type": "image/png"\n    },\n    ...\n  ],\n  "start_url": "/",\n  "orientation": "portrait",\n  "background_color": "#FFFFFF",\n  "display": "standalone",\n  "scope": "/",\n  "theme_color": "#FFFFFF"\n}\n')),(0,o.kt)("h4",{id:"deploying-to-github-pages"},"Deploying to GitHub Pages"),(0,o.kt)("p",null,"For the final step we're to deploy the PWA!"),(0,o.kt)("p",null,"First off place all your files in root folder of your GitHub repo. Remember to also have a ",(0,o.kt)("inlineCode",{parentName:"p"},"index.html")," which contains both your JS app & your ",(0,o.kt)("inlineCode",{parentName:"p"},"serviceWorker.js")," and reference those scripts in ",(0,o.kt)("inlineCode",{parentName:"p"},"body"),", e.g."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n...\n<script src="NEW.js"><\/script>\n<script src="serviceWorker.js"><\/script>\n</body>\n')),(0,o.kt)("p",null,"Then you need to activate GitHub Pages for the repository, whereas the ",(0,o.kt)("a",{parentName:"p",href:"https://pages.github.com/"},"official documentation")," is great!",(0,o.kt)("br",{parentName:"p"}),"\n","GitHub pages recently got their own tab in settings and all you need to do now is to head over there, ",(0,o.kt)("inlineCode",{parentName:"p"},"https://github.com/<USERNAME>/<REPO_NAME>/settings/pages")," and activate GitHub pages. Make sure to also activate ",(0,o.kt)("inlineCode",{parentName:"p"},"https"),"-only if possible!"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"And that's it"),", simple as that. Now you've your PWA deployed through GitHub pages. The PWA should be available @ ",(0,o.kt)("inlineCode",{parentName:"p"},"<repo>.github.io"),", but better check it in settings to be sure that it's set up that way."),(0,o.kt)("h3",{id:"alternatives"},"Alternatives"),(0,o.kt)("p",null,"There exists a few alternatives that I'm aware off"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.heroku.com/"},"Heroku")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://pages.cloudflare.com/"},"Cloudflare Pages")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.netlify.com/"},"Netlify"))),(0,o.kt)("p",null,"All which are supposed to be great and simple to use. The free versions of everyone is pretty darn good too!"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"OBS")," Please remember that it's not allowed to put up applications on GitHub Pages that are commercial according to the ToS."))}h.isMDXComponent=!0}}]);